type User {
  id: ID! @id
  email: String! @unique
  name: String!
  gender: Gender! @default(value: MALE)
}

type Candidate {
  id: ID! @id
  name: String!
  photo: String
  party: String!
  state: String!
  current_office: String!
  age: Int!
  gender: Gender @default(value: MALE)
  latest_poll: Float
  latest_odds: Float
  bio_qualifications: [Qualification!] @relation(onDelete: CASCADE)
  bio_policy_position: [Position!]
  bio_other: String
}

type Qualification {
  id: ID! @id
  name: String!
  summary: String
  detail: String
  years: Int!
  rank: Int
  candidateId: String
}

type Topic {
  id: ID! @id
  name: String!
  category: CategoryType! @default(value: HEALTH)
}

type Position {
  id: ID! @id
  name: String!
  summary: String
  topic: Topic @relation(link: INLINE)
  detail: String
}

type CandidatePosition {
  id: ID! @id
  positionId: String!
  candidateId: String!
  time: DateTime @updatedAt
  link: String
  rank: Int
  latest: Boolean @default(value: false)
}

type UserVote {
  id: ID! @id
  candidateId: String!
  userId: String!
  vote_type: VoteType! @default(value: TOP)
  time: DateTime @updatedAt
  latest: Boolean @default(value: false)
}

type UserQualificationLike {
  id: ID! @id
  userId: String!
  qualificationId: String!
  like: LikeType! @default(value: LIKE)
  time: DateTime @updatedAt
  latest: Boolean @default(value: false)
}

type UserPositionLike {
  id: ID! @id
  userId: String!
  candidate_positionId: String!
  like: LikeType @default(value: LIKE)
  time: DateTime @updatedAt
  latest: Boolean @default(value: false)
}

type Poll {
  id: ID! @id
  userId: String!
  date: DateTime @updatedAt
  candidateId: String!
  poll_type: PollType! @default(value: PRIMARY)
  error_margin: String
  link_to_poll: String
}

enum Gender {
  MALE
  FEMALE
}

enum CategoryType {
  HEALTH
}

enum VoteType {
  TOP
  FAVORITE
  COMPROMISE
  VETO
  UNKNOWNS
}

enum LikeType {
  LIKE
  DISLIKE
  UNSPECIFIED
}

enum PollType {
  PRIMARY
  HEADTOHEAD
}